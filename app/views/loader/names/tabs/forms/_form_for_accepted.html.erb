
<%= form_with(model: loader_name, url: loader_name_path, method: :put, role: 'form', remote: true) do |f| %>
    <% if loader_name.errors.any? %>
        <div id="error_explanation">
          <h6><%= pluralize(loader_name.errors.count, "error") %> prevented this loader_name from being saved:</h6>
          <ul>
            <% loader_name.errors.full_messages.each do |message| %>
                <li><%= message %></li>
            <% end %>
          </ul>
        </div>
    <% end %>
    <div id="search-result-details-info-message-container" class="message-container"></div>
    <div id="search-result-details-error-message-container" class="message-container"></div>
    <div class="form-group align-right">
      <% if loader_name.id.blank? %>
        <%= link_to 'Cancel', '/cancel-new-form', class: "btn btn-primary cancel-new-record-link",
                    title: "Cancel new loader_name", tabindex: increment_tab_index %>
      <% end %>
      <%= f.submit "Save", id: 'loader-name-save', class: 'btn btn-primary width-5em', title: "Save changes", tabindex: increment_tab_index, disabled: false %>
    </div>


    <div class="form-group">
      <label for="simple_name">Simple Name*</label>
      <%= f.text_field :simple_name, class: 'form-control give-me-focus', required: true, title: "Enter simple name - the value of simple name, as loaded is retained in simple name as loaded", tabindex: increment_tab_index, autofocus: true %>
      <% unless loader_name.simple_name == loader_name.simple_name_as_loaded %>
        <p>As originally loaded: <%= loader_name.simple_name_as_loaded %></p>
        <p>Simple Name is used for matching with name records, so editing it will likely change the matches.</p>
      <% end %>
    </div>

    <div class="form-group">
      <label for="family">Family Name*</label>
      <%= f.text_field :family, class: 'form-control give-me-focus',
        required: true, title: "Enter family name", tabindex: increment_tab_index %>
    </div>

    <div class="form-group">
      <label for="record_type">Record type*</label>
      <%= f.hidden_field :record_type, value: 'accepted' %>
      <%= f.text_field :record_type, class: 'form-control', value: 'accepted', disabled: true %>
    </div>

    <div class="form-group">
      <br>
      <label class="form-check-label">
        <%= f.check_box(:excluded, {class: 'xform-control', title: 'Excluded.', tabindex: increment_tab_index}) %>
        Exclude from the taxonomy
      </label>
    </div>

    <%= render partial: "loader/names/tabs/forms/name_status", locals: {f: f} %>
    <%#= render partial: "authors", locals: {f: f} %>

    <div class="form-group">
      <label for="comment">Comment</label>
      <%= f.text_area :comment, class: 'form-control', title: "Enter comment", tabindex: increment_tab_index, autofocus: true %>
    </div>

    <div class="form-group">
      <label for="distribution">Distribution</label>
      <%= f.text_field(:distribution, {class: 'form-control', title: 'Distribution of the taxon', tabindex: increment_tab_index}) %>
    </div>

    <div class="form-group">
      <label for="seq">Seq*</label>
      <%= f.text_field(:seq, {class: 'form-control', title: 'For listing the taxon in the correct alphabetical/hierarchical order', tabindex: increment_tab_index}) %>
    </div>

    <div class="form-group">
      <label for="notes">Notes</label>
      <%= f.text_area :notes, class: 'form-control', title: "Enter notes", tabindex: increment_tab_index, autofocus: true %>
    </div>
    <%= divider %>
    <% unless loader_name.id.blank? %>
      <div class="form-group">
        <br>
      <label class="form-check-label">
        <%= f.check_box(:no_further_processing,
                        {class: 'xform-control', title: 'Prevent any further processing automated processing of this record.', tabindex: increment_tab_index}) %>
        Prevent any further bulk processing of this record
      </label>
      </div>
    <% end %>
    <div class="form-group align-right">
      <% if loader_name.id.blank? %>
          <%= link_to 'Cancel', '/cancel-new-form', class: "btn btn-primary cancel-new-record-link",
                       title: "Cancel new loader_name", tabindex: increment_tab_index  %>
      <% end %>
      <%= f.submit "Save", id: 'loader-name-save', class: 'btn btn-primary width-5em', title: "Save changes", tabindex: increment_tab_index, disabled: false %>
    </div>
<% end %>
